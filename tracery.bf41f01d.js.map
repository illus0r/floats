{"version":3,"sources":["vendor/tracery.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["i","e","t","n","hasOwnProperty","r","v","h","call","m","s","o","u","a","f","c","p","split","l","map","g","charAt","length","nodeIdCompat","d","test","replace","slice","concat","splice","join","indexOf","substring","arguments","push","apply","y","b","w","Error","E","S","config","Object","prototype","normalize","pr","require","exports","module","id","uri","load","undefined","deps","callback","setTimeout","_defined","amd","jQuery","tracery","addError","rule","preActions","postActions","symbol","mods","raw","String","console","warn","log","parseTag","parseRule","testParse","testParseTag","spacer","toLowerCase","capitalizeAll","toUpperCase","capitalize","inQuotes","comma","beeSpeak","ed","node","grammar","activate","actions","amended","flatten","subactions","rules","pushRules","deactivate","popRules","xyz","Class","extend","init","_super","constructor","callee","depth","childText","setParent","parent","expand","expandChildren","children","finalText","createChildrenFromSections","parsedRule","$","outputExpansionTrace","sections","getRule","error","getParsed","applyMod","toLabel","toString","isLeaf","text","toJSONString","freeze","RED","GREEN","BLUE","Array","parseAll","uses","startUses","totalUses","mapRules","applyToRules","get","getIndex","getRandomIndex","Math","floor","random","decayUses","index","testRandom","getSaveRules","key","currentRules","ruleSets","loadFrom","wrapRules","baseRules","isArray","pop","setRules","addRule","seed","select","isSelected","deselect","toJSON","clear","symbols","modifiers","keys","symbolNames","toText","mapSymbols","applyToSymbols","addOrGetSymbol","analyze","parsed","parse","selectSymbol","createGrammar","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","window","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","Function","cached","cache","some","cb"],"mappings":"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","file":"tracery.bf41f01d.js","sourceRoot":"src","sourcesContent":["/**\n * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n\n(function(){function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var e,t,n;(function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split(\"/\"),m=l.map,g=m&&m[\"*\"]||{};if(e&&e.charAt(0)===\".\")if(t){e=e.split(\"/\"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,\"\")),e=v.slice(0,v.length-1).concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===\".\")e.splice(c,1),c-=1;else if(p===\"..\"){if(c===1&&(e[2]===\"..\"||e[0]===\"..\"))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join(\"/\")}else e.indexOf(\"./\")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split(\"/\");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join(\"/\");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join(\"/\")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join(\"/\"))}return e}function g(e,t){return function(){var n=p.call(arguments,0);return typeof n[0]!=\"string\"&&n.length===1&&n.push(null),s.apply(r,n.concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error(\"No \"+e);return a[e]}function E(e){var t,n=e?e.indexOf(\"!\"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+\"!\"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!=\"undefined\"?t:a[e]={}},module:function(e){return{id:e,uri:\"\",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y===\"undefined\"||y===\"function\"){t=!t.length&&n.length?[\"require\",\"exports\",\"module\"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l===\"require\")m[d]=u.require(e);else if(l===\"exports\")m[d]=u.exports(e),E=!0;else if(l===\"module\")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+\" missing \"+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e==\"string\")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n==\"function\"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){if(typeof e!=\"string\")throw new Error(\"See almond README: incorrect module build, no module name\");t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n(\"almond\",function(){}),n(\"utilities\",[],function(){function e(e){return'\"'+e+'\"'}function t(e){return e}function n(n){function l(e){if(o!==e){var t=n.substring(o,e);if(!u)tracery.addError(\"multiple possible expansion symbols in tag!\"+n);else{u=!1;var r=t.split(\".\");a=r[0],f=r.slice(1,r.length)}}o=e}var r=[],i=[],s=0,o=0,u=!0,a,f;for(var c=0;c<n.length;c++){var h=n.charAt(c);switch(h){case\"[\":s===0&&l(c),s++;break;case\"]\":s--;if(s===0){var p=n.substring(o+1,c);u?r.push(t(p)):i.push(t(p)),o=c+1}break;default:s===0}}l(c);if(s>0){var d=\"Too many '[' in rule \"+e(rule);tracery.addError(d);return}if(s<0){var d=\"Too many ']' in rule \"+e(rule);tracery.addError(d);return}return{preActions:r,postActions:i,symbol:a,mods:f,raw:n}}function r(t){function u(e){var i=t.substring(s,e);i.length>0&&(o?r.push(n(i)):r.push(i)),o=!o,s=e+1}var r=[];if(typeof t==\"string\"||t instanceof String){if(t.length===0)return[];var i=0,s=0,o=!1;for(var a=0;a<t.length;a++){var f=t.charAt(a);switch(f){case\"[\":i++;break;case\"]\":i--;break;case\"#\":i===0&&u(a);break;default:}}if(i>0){var l=\"Too many '[' in rule \"+e(t);tracery.addError(l),console.warn(l);return}if(i<0){var l=\"Too many ']' in rule \"+e(t);tracery.addError(l),console.warn(l);return}if(o){var l=\"Odd number of '#' in rule \"+e(t);tracery.addError(l),console.warn(l);return}return u(t.length),r}tracery.addError(\"Cannot parse non-string rule \"+t);return}function i(t){console.log(\"Test: \"+e(t));var n=r(t);n?console.log(\"SUCCESS:\",n):console.log(\"FAILED:\",n)}function s(t){console.log(\"Test: \"+e(t));var r=n(t);r?console.log(\"SUCCESS:\",r):console.log(\"FAILED:\",r)}function o(e){var t=\"\";for(var n=0;n<e*3;n++)t+=\" \";return t}return{parseTag:n,parseRule:r,testParse:i,testParseTag:s,spacer:o}}),n(\"modifiers\",[],function(){function t(t){return t.charAt(t.length-1)===\"y\"?e(t.charAt(t.length-2)):!1}var e=function(e){e=e.toLowerCase();switch(e){case\"a\":return!1;case\"e\":return!1;case\"i\":return!1;case\"o\":return!1;case\"u\":return!1}return!0},n={capitalizeAll:function(e){return e.replace(/(?:^|\\s)\\S/g,function(e){return e.toUpperCase()})},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},inQuotes:function(e){return'\"'+e+'\"'},comma:function(e){var t=e.charAt(e.length-1);return t===\",\"?e:t===\".\"?e:t===\"?\"?e:t===\"!\"?e:e+\",\"},beeSpeak:function(e){return e=e.replace(/s/,\"zzz\"),e},a:function(t){return e(t.charAt())?\"a \"+t:\"an \"+t},s:function(t){var n=t.charAt(t.length-1);switch(n){case\"y\":return e(t.charAt(t.length-2))?t.slice(0,t.length-1)+\"ies\":t+\"s\";case\"x\":return t.slice(0,t.length-1)+\"en\";case\"z\":return t.slice(0,t.length-1)+\"es\";case\"h\":return t.slice(0,t.length-1)+\"es\";default:return t+\"s\"}},ed:function(t){var n=t.indexOf(\" \"),t=t,r=\"\";n>0&&(r=t.substring(n,t.length),t=t.substring(0,n));var i=t.charAt(t.length-1);switch(i){case\"y\":return e(t.charAt(t.length-2))?t.slice(0,t.length-1)+\"ied\"+r:t+\"ed\"+r;case\"e\":return t+\"d\"+r;default:return t+\"ed\"+r}}};return n}),n(\"action\",[],function(){var e=function(e,t){this.node=e,this.grammar=e.grammar,this.raw=t};return e.prototype.activate=function(){var t=this.node;t.actions.push(this),this.amended=this.grammar.flatten(this.raw);var n=tracery.parseTag(this.amended),r=n.preActions;r&&r.length>0&&(this.subactions=r.map(function(n){return new e(t,n)}));if(n.symbol){var i=n.symbol.split(\":\");if(i.length!==2)throw\"Unknown action: \"+n.symbol;this.push={symbol:i[0],rules:i[1].split(\",\")},t.grammar.pushRules(this.push.symbol,this.push.rules)}if(this.subactions)for(var s=0;s<this.subactions.length;s++)this.subactions[s].activate()},e.prototype.deactivate=function(){if(this.subactions)for(var e=0;e<this.subactions.length;e++)this.subactions[e].deactivate();this.push&&this.node.grammar.popRules(this.push.symbol,this.push.rules)},e}),function(){var e=!1,t=/xyz/.test(function(){xyz})?/\\b_super\\b/:/.*/;this.Class=function(){},Class.extend=function(n){function o(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]==\"function\"&&typeof r[s]==\"function\"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return o.prototype=i,o.prototype.constructor=o,o.extend=arguments.callee,o}}(),n(\"inheritance\",function(){}),n(\"node\",[\"./action\",\"./inheritance\"],function(e,t){var n=0,i=Class.extend({init:function(){this.depth=0,this.id=n,n++,this.childText=\"[[UNEXPANDED]]\"},setParent:function(e){e&&(this.depth=e.depth+1,this.parent=e,this.grammar=e.grammar)},expand:function(){return\"???\"},expandChildren:function(){if(this.children){this.childText=\"\";for(var e=0;e<this.children.length;e++)this.children[e].expand(),this.childText+=this.children[e].finalText;this.finalText=this.childText}},createChildrenFromSections:function(e){var t=this;this.children=e.map(function(e){return typeof e==\"string\"||e instanceof String?new u(t,e):new o(t,e)})}}),s=i.extend({init:function(e,t){this._super(),this.grammar=e,this.parsedRule=tracery.parseRule(t)},expand:function(){var e=this;this.createChildrenFromSections(this.parsedRule),this.expandChildren()}}),o=i.extend({init:function(e,t){this._super();if(t===null||typeof t!=\"object\"){if(!(typeof t==\"string\"||t instanceof String))throw console.log(\"Unknown tagNode input: \",t),\"Can't make tagNode from strange tag!\";console.warn(\"Can't make tagNode from unparsed string!\"),t=tracery.parseTag(t)}this.setParent(e),$.extend(this,t)},expand:function(){tracery.outputExpansionTrace&&console.log(r.sections),this.rule=this.grammar.getRule(this.symbol),this.rule.error&&(this.error=this.rule.error,tracery.addError(this.error)),this.actions=[],this.createChildrenFromSections(this.rule.getParsed());for(var t=0;t<this.preActions.length;t++){var n=new e(this,this.preActions[t]);n.activate()}this.rule.sections||console.log(this.rule),this.expandChildren();for(var t=0;t<this.actions.length;t++)this.actions[t].deactivate();this.finalText=this.childText;for(var t=0;t<this.mods.length;t++)this.finalText=this.grammar.applyMod(this.mods[t],this.finalText)},toLabel:function(){return this.symbol},toString:function(){return\"TagNode '\"+this.symbol+\"' mods:\"+this.mods+\", preactions:\"+this.preActions+\", postactions\"+this.postActions}}),u=i.extend({isLeaf:!0,init:function(e,t){this._super(),this.setParent(e),this.text=t,this.finalText=t},expand:function(){},toLabel:function(){return this.text}});return s}),n(\"rule/rule\",[],function(){var e=function(e){this.raw=e,this.sections=tracery.parseRule(e)};return e.prototype.getParsed=function(){return this.sections||(this.sections=tracery.parseRule(raw)),this.sections},e.prototype.toString=function(){return this.raw},e.prototype.toJSONString=function(){return this.raw},e}),n(\"rule/ruleset\",[\"./rule\"],function(e){var t=Object.freeze({RED:0,GREEN:1,BLUE:2}),n=function(e){if(e.constructor===Array)e=e.slice(0,e.length);else if(e.prototype!==n){if(!(typeof e==\"string\"||e instanceof String))throw console.log(e),\"creating ruleset with unknown object type!\";var t=Array.prototype.slice.call(arguments);e=t}this.rules=e,this.parseAll(),this.uses=[],this.startUses=[],this.totalUses=0;for(var r=0;r<this.rules.length;r++)this.uses[r]=0,this.startUses[r]=this.uses[r],this.totalUses+=this.uses[r]};return n.prototype.parseAll=function(t){for(var n=0;n<this.rules.length;n++)this.rules[n].prototype!==e&&(this.rules[n]=new e(this.rules[n]))},n.prototype.mapRules=function(e){return this.rules.map(function(t,n){return e(t,n)})},n.prototype.applyToRules=function(e){for(var t=0;t<this.rules.length;t++)e(this.rules[t],t)},n.prototype.get=function(){var e=this.getIndex();return this.rules[e]},n.prototype.getRandomIndex=function(){return Math.floor(this.uses.length*Math.random())},n.prototype.getIndex=function(){var e=this.getRandomIndex(),t=this.totalUses/this.uses.length,n=0;while(this.uses[e]>t&&n<20)e=this.getRandomIndex(),n++;return e},n.prototype.decayUses=function(e){this.totalUses=0;for(var t=0;t<this.uses;t++)this.uses[index]*=1-e,this.totalUses+=this.uses[index]},n.prototype.testRandom=function(){console.log(\"Test random\");var e=[];for(var t=0;t<this.uses.length;t++)e[t]=0;var n=10*this.uses.length;for(var t=0;t<n;t++){var r=this.getIndex();this.uses[r]+=1,e[r]++,this.decayUses(.1)}for(var t=0;t<this.uses.length;t++)console.log(t+\":\t\"+e[t]+\" \t\"+this.uses[t])},n.prototype.getSaveRules=function(){var e=this.rules.map(function(e){return e.toJSONString()});return e},n}),n(\"symbol\",[\"./rule/ruleset\"],function(e){function t(e,t){this.grammar=e,this.key=t,this.currentRules=undefined,this.ruleSets=[]}return t.prototype.loadFrom=function(e){e=this.wrapRules(e),this.baseRules=e,this.ruleSets.push(e),this.currentRules=this.ruleSets[this.ruleSets.length-1]},t.prototype.mapRules=function(e){return this.currentRules.mapRules(e)},t.prototype.applyToRules=function(e){this.currentRules.applyToRules(e)},t.prototype.wrapRules=function(t){if(t.prototype!==e){if(Array.isArray(t))return new e(t);if(typeof t==\"string\"||t instanceof String)return new e(t);throw\"Unknown rules type: \"+t}return t},t.prototype.pushRules=function(e){e=this.wrapRules(e),this.ruleSets.push(e),this.currentRules=this.ruleSets[this.ruleSets.length-1]},t.prototype.popRules=function(){var e=this.ruleSets.pop();this.ruleSets.length===0,this.currentRules=this.ruleSets[this.ruleSets.length-1]},t.prototype.setRules=function(e){e=this.wrapRules(e),this.ruleSets=[e],this.currentRules=e},t.prototype.addRule=function(e){this.currentRules.addRule(seed)},t.prototype.select=function(){this.isSelected=!0},t.prototype.deselect=function(){this.isSelected=!1},t.prototype.getRule=function(e){return this.currentRules.get(e)},t.prototype.toString=function(){return this.key+\": \"+this.currentRules+\"(overlaying \"+(this.ruleSets.length-1)+\")\"},t.prototype.toJSON=function(){var e=this.baseRules.rules.map(function(e){return'\"'+e.raw+'\"'});return'\"'+this.key+'\"'+\": [\"+e+\"]\"},t}),n(\"grammar\",[\"./modifiers\",\"./node\",\"./symbol\",\"./rule/rule\"],function(e,t,n,r){function i(){this.clear()}return i.prototype.clear=function(){this.symbols={},this.modifiers={};for(var t in e)e.hasOwnProperty(t)&&(this.modifiers[t]=e[t])},i.prototype.loadFrom=function(e){var t;this.clear(),e.symbols!==undefined?t=e.symbols:t=e;var r=Object.keys(t);this.symbolNames=[];for(var i=0;i<r.length;i++){var s=r[i];this.symbolNames.push(s),this.symbols[s]=new n(this,s),this.symbols[s].loadFrom(t[s])}},i.prototype.toText=function(){return this.toJSON()},i.prototype.toJSON=function(){var e=\"{\\n\",t=Object.keys(this.symbols);this.symbolNames=[];var n=0;for(var r=0;r<t.length;r++){var i=t[r],s=this.symbols[i];s&&s.baseRules&&(n>0&&(e+=\",\"),n++,e+=\"\t\"+this.symbols[i].toJSON(),e+=\"\\n\")}return e+=\"\\n}\",e},i.prototype.select=function(){this.isSelected=!0},i.prototype.deselect=function(){this.isSelected=!1},i.prototype.mapSymbols=function(e){var t=this.symbols;return this.symbolNames.map(function(n){return e(t[n],n)})},i.prototype.applyToSymbols=function(e){for(var t=0;t<this.symbolNames.length;t++){var n=this.symbolNames[t];e(this.symbols[n],n)}},i.prototype.addOrGetSymbol=function(e){return this.symbols[e]===undefined&&(this.symbols[e]=new n(e)),this.symbols[e]},i.prototype.pushRules=function(e,t){var n=this.addOrGetSymbol(e);n.pushRules(t)},i.prototype.popRules=function(e,t){var n=this.addOrGetSymbol(e),r=n.popRules();n.ruleSets.length===0&&(this.symbols[e]=undefined)},i.prototype.applyMod=function(e,t){if(!this.modifiers[e])throw console.log(this.modifiers),\"Unknown mod: \"+e;return this.modifiers[e](t)},i.prototype.getRule=function(e,t){var n=this.symbols[e];if(n===undefined){var i=new r(\"{{\"+e+\"}}\");return i.error=\"Missing symbol \"+e,i}var s=n.getRule();if(s===undefined){var i=new r(\"[\"+e+\"]\");return console.log(i.sections),i.error=\"Symbol \"+e+\" has no rule\",i}return s},i.prototype.expand=function(e){var n=new t(this,e);return n.expand(),n},i.prototype.flatten=function(e){var n=new t(this,e);return n.expand(),n.childText},i.prototype.analyze=function(){this.symbolNames=[];for(var e in this.symbols)this.symbols.hasOwnProperty(e)&&this.symbolNames.push(e);for(var t=0;t<this.symbolNames.length;t++){var n=this.symbolNames[t],r=this.symbols[n];for(var i=0;i<r.baseRules.length;i++){var s=r.baseRules[i];s.parsed=tracery.parse(s.raw)}}},i.prototype.selectSymbol=function(e){console.log(this);var t=this.get(e)},i}),n(\"traceryCore\",[\"./utilities\",\"./grammar\",\"./node\"],function(e,t,n){var r={};return console.log(\"in main tracery\"),$.extend(r,e),r.createGrammar=function(e){var n=new t;return n.loadFrom(e),n},r.addError=function(e){console.warn(e)},r.test=function(){console.log(\"==========================================\"),console.log(\"test tracery\"),r.testParse(\"#[#setPronouns#][#setOccupation#][hero:#name#]story#\")},r}),t.config({}),t([\"./traceryCore\"],function(e){tracery=e,console.log(tracery),console.log(\"Tracery complete\")}),n(\"main\",function(){})})();\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}