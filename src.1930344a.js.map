{"version":3,"sources":["index.js"],"names":["partsAvailable","init","draw","SVG","size","ajax","XMLHttpRequest","open","send","onload","e","console","log","responseText","svg","select","fill","animate","compose","partsAvailable_","parts","slice","onTextChange","inputText"],"mappings":";AACA,IAAIA,EAAiB,GACrB,SAASC,IAMJC,IAAAA,EAAOC,IAAI,WAAWC,KAAK,IAAK,KAEhCC,EAAO,IAAIC,eACfD,EAAKE,KAAK,MAAO,qBAAqB,GACtCF,EAAKG,OACLH,EAAKI,OAAS,SAASC,GACtBC,QAAQC,IAAIP,EAAKQ,cACjBX,EAAKY,IAAIT,EAAKQ,cACCV,IAAIY,OAAO,oBAAoBC,KAAK,SAKpDhB,EAAiB,CAChB,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAE,GAAK,GAAK,IACZ,CAAE,GAAI,IAAK,KACX,CAAC,IAAM,GAAK,IACZ,CAAE,GAAK,GAAK,IACZ,CAAE,GAAI,IAAK,KACX,CAAC,IAAM,GAAK,KAMbiB,IAID,SAASC,EAAQC,GAA2B,UAAA,OAAA,QAAA,IAAA,UAAA,IAAA,UAAA,GAsCpCC,OADKD,EAAgBE,MAAM,EAAG,GAItC,SAASC,IAEIJ,EAAQlB,EAAgBuB,WAQrC,SAASN,KAIThB,IACAU,QAAQC,IAAI","file":"src.1930344a.js","sourceRoot":"src","sourcesContent":["\nvar partsAvailable = []\nfunction init(){\n\t// Load external SVG file\n\t//var draw = SVG('test').size(300, 300)\n\t\n\t// Ivan's attempt to loat external svg, according to\n\t// https://stackoverflow.com/questions/26284029/svgjs-load-external-svg-file\n\tvar draw = SVG('drawing').size(500, 500)\n\t//var rect = draw.rect(400, 400).attr({ fill: '#f06' })\n\tvar ajax = new XMLHttpRequest()\n\tajax.open('GET', '../src/floats.svg', true)\n\tajax.send()\n\tajax.onload = function(e) {\n\t\tconsole.log(ajax.responseText)\n\t\tdraw.svg(ajax.responseText)\n\t\tvar elements = SVG.select('[fill=\"#F04B40\"]').fill('#f0e')\n\t}\n\n\t// Get the list of float's parts\n\t// temporary placeholder\n\tpartsAvailable = [\n\t\t[256, 256, 120],\n\t\t[256, 256, 120],\n\t\t[ 16,  16,  40],\n\t\t[ 16, 256, 100],\n\t\t[256,  16,  40],\n\t\t[ 16,  16,  40],\n\t\t[ 16, 256, 100],\n\t\t[256,  16,  40],\n\t]\n\n\t// Set function onTextChange() to run on every text change. And run it for the first time.\n\n\t// Launch the animation\n\tanimate()\n}\n\n// Ivan's part, which determines the subset of parts and their order\nfunction compose(partsAvailable_, inputText=\"Hello\"){\n\t// first approach is to select parts randomly, according to their sizes.\n\t// just make a hundred of random possible constructions and forbid those, who don't match sertain criteria. I.e. length, segment number. Other way is to make a generative grammar. But there should be some tweak. For example, the length of the float should be limited. It can be done with grammar rules, though. Hm. OK, let's see what we've gotten so far.\n\t//\n\t// Every possible part of a float can be regarded as terminal token. Let's start with a list of such tokens:\n  //  [ 16,  16,  40],\n  //  [ 16, 256, 100],\n  //  [256,  16,  40],\n  //  [256, 256, 120],\n  //  every of them can be expanded into a specific array element. \n\t//\n\t//\t1. Make terminal rules from partsAvailable. If needed, make strings out of lists. Ignore height:\n  //  16_16 → 2, 5\n  //  16_256 → 3, 6\n  //  256_16 → 4, 7\n  //  256_256 → 0, 1\n\t//\n\t//\t←top  o--------<(____)>-----  bottom→\n\t//  2. Теперь самое грамматика. Надо закодировать как-то понятно все комбинации поплавков.\n\t//  bottom → #16_16# #16_16# #16_16# #16_#\n\t//  bottom → #16_16# #16_16# #16_#\n\t//  bottom → #16_16# #16_#\n\t//  bottom → #16_#\n\t//\n\t//  middle → #16_256# #256_16#\n\t//  middle → #16_256# #256_256# #256_16#\n\t//  middle → #16_256# #256_256# #256_256# #256_16#\n\t//  middle → #16_256# #256_256# #256_256# #256_256# #256_16#\n\t//\n\t//  top → #_16# #16_16# #16_16# #16_16#\n\t//  top → #_16# #16_16# #16_16#\n\t//  top → #_16# #16_16#\n\t//  top → #_16#\n\t//\n\t//  this list elements are unique. So now we can think out different parts of a float. It's crusial to avoid recursion\n\t// \n\t// temporary placeholder\n\tlet parts = partsAvailable_.slice(0, 3)\n\treturn parts\n}\n\nfunction onTextChange(){\n\t// Call Ivan's composer\n\tlet parts = compose(partsAvailable, inputText)\n\n\t// Draw parts in proper order on proper places\n\n\t// Scale the float to fit the screen\n}\n\n// Runs infinitely\nfunction animate(){\n\t// move SVG's group\n}\n\ninit()\nconsole.log(\"hi\")\n"]}